# 嵌入式/SOC开发面试问题集（仅问题版）

本文档基于 `learning_for_soc` 知识体系整理，按模块分类，问题由浅入深排列。

---

## 模块一：内存管理

### 1.1 虚拟地址与物理地址

1. 什么是虚拟地址？什么是物理地址？
2. 为什么操作系统要引入虚拟地址？有什么好处？
3. 虚拟地址是如何转换为物理地址的？
4. 什么是页表？它在地址转换中的作用是什么？
5. 地址转换对系统性能有什么影响？如何优化？
6. 什么是TLB？它是如何加速地址转换的？

### 1.2 MMU原理

1. 什么是MMU？它的主要功能有哪些？
2. MMU是如何实现地址转换的？
3. MMU如何实现内存保护？
4. 页表项中的权限位有哪些？分别有什么作用？
5. 不同系统（Linux/嵌入式RTOS/ARM Cortex-M）的MMU实现有何区别？
6. 如果没有MMU，系统如何实现内存保护？（MPU是什么？）

### 1.3 内存分配

1. 内核中常见的内存分配方式有哪些？
2. kmalloc和vmalloc有什么区别？分别适用于什么场景？
3. 什么是slab分配器？它的工作原理是什么？
4. 什么是内存碎片化？如何避免或缓解？
5. DMA操作对内存分配有什么特殊要求？

### 1.4 堆与栈

1. 堆和栈有什么区别？
2. 局部变量、全局变量、动态分配的内存分别存储在哪里？
3. 栈溢出是什么？如何避免？
4. 堆内存使用中常见的问题有哪些？（内存泄漏、野指针等）
5. 函数调用时栈帧是如何变化的？

---

## 模块二：中断与同步机制

### 2.1 中断机制与处理

1. 什么是中断？中断有哪些类型？
2. 什么是中断向量表？
3. 中断处理的基本流程是什么？
4. 什么是中断优先级？如何合理设计中断优先级？
5. 什么是中断嵌套？有什么风险？
6. 中断服务程序（ISR）应该遵循哪些设计原则？
7. 什么是上半部和下半部？为什么要这样设计？

### 2.2 自旋锁、互斥锁与同步

1. 常见的同步机制有哪些？
2. 自旋锁和互斥锁有什么区别？分别适用于什么场景？
3. 什么是死锁？如何避免死锁？
4. 什么是竞态条件？如何避免？
5. 什么是原子操作？在什么场景下使用？
6. 信号量和互斥锁有什么区别？
7. 在中断上下文中可以使用互斥锁吗？为什么？

---

## 模块三：设备驱动与硬件

### 3.1 设备驱动开发基础

1. 设备驱动的作用是什么？
2. Linux中的设备类型有哪些？各有什么特点？
3. 什么是file_operations结构体？它包含哪些重要成员？
4. 设备驱动的注册流程是什么？
5. 什么是设备树（Device Tree）？它的作用是什么？
6. 字符设备和块设备在实现上有什么主要区别？

### 3.2 硬件寄存器与IO操作

1. 什么是硬件寄存器？
2. 如何在内核中访问硬件寄存器？
3. IO内存和普通内存有什么区别？
4. 什么是内存屏障？为什么需要内存屏障？
5. readl/writel等API的作用是什么？

### 3.3 常见总线与协议

1. 常见的嵌入式总线和协议有哪些？各有什么特点？
2. I2C和SPI的区别是什么？
3. 什么是DMA？它有什么作用？
4. UART通信的特点是什么？
5. CAN总线有什么特点？适用于什么场景？

---

## 模块四：系统启动与交互

### 4.1 启动流程与Bootloader

1. 嵌入式系统的启动流程包含哪些阶段？
2. Bootloader的主要作用是什么？
3. 启动参数是如何传递给内核的？
4. 启动失败的常见原因有哪些？
5. U-Boot SPL的作用是什么？

### 4.2 内核空间与用户空间交互

1. 内核空间和用户空间有什么区别？
2. 内核空间和用户空间之间有哪些交互方式？
3. copy_to_user和copy_from_user的作用是什么？为什么需要这些函数？
4. 什么是ioctl？它的使用场景是什么？
5. 什么是mmap？它如何实现零拷贝？

---

## 模块五：调试、性能与实时性

### 5.1 调试与日志

1. 内核调试和日志的常用方式有哪些？
2. printk和printf有什么区别？
3. 如何使用dmesg查看内核日志？
4. kgdb是什么？如何使用？
5. 日志丢失或调试信息不足时如何解决？

### 5.2 性能优化与资源管理

1. 性能优化需要关注哪些指标？
2. 如何优化中断性能？
3. 如何减少内存碎片？
4. 嵌入式系统中常用的功耗管理方法有哪些？

### 5.3 实时性与定时器

1. 什么是实时性？如何在内核中体现？
2. 常见的定时器类型有哪些？各有什么特点？
3. hrtimer和普通定时器有什么区别？
4. 实时调度策略有哪些？

---

## 模块六：开发工具与安全

### 6.1 交叉编译与移植

1. 什么是交叉编译？为什么需要交叉编译？
2. 交叉编译工具链包含哪些组件？
3. 移植代码时常见的问题有哪些？如何解决？

### 6.2 安全与异常处理

1. 内存保护是如何实现的？
2. 常见的异常类型有哪些？
3. 缺页异常是什么？如何处理？
4. 访问越界时系统如何响应？

---

## 模块七：C++核心知识

### 7.1 多态

1. 什么是多态？C++中有哪些多态类型？
2. 静态多态和动态多态有什么区别？
3. 虚函数是如何实现的？什么是虚函数表（vtable）？
4. 虚指针（vptr）存储在哪里？
5. 为什么基类的析构函数通常要声明为virtual？
6. 什么是纯虚函数？什么是抽象类？
7. override和final关键字的作用是什么？
8. 动态多态有什么性能开销？

### 7.2 指针

1. 什么是指针？为什么要使用指针？
2. 什么是野指针和悬垂指针？如何避免？
3. 指针和引用有什么区别？
4. const与指针的几种组合分别是什么含义？
5. 什么是函数指针？如何使用？
6. new/delete和malloc/free有什么区别？
7. 什么是智能指针？有哪些类型？
8. unique_ptr和shared_ptr的区别是什么？
9. 什么是weak_ptr？它解决什么问题？
10. 什么是循环引用？如何避免？

---

## 模块八：设计模式

### 8.1 创建型模式

1. 什么是设计模式？学习设计模式有什么意义？
2. 什么是单例模式？它解决什么问题？
3. 饿汉式和懒汉式单例有什么区别？
4. 懒汉式单例如何保证线程安全？
5. 什么是工厂方法模式？它和简单工厂有什么区别？
6. 什么是抽象工厂模式？它适用于什么场景？
7. 什么是建造者模式？它解决什么问题？

### 8.2 结构型模式

1. 什么是适配器模式？它解决什么问题？
2. 什么是装饰器模式？它和继承有什么区别？
3. 什么是代理模式？有哪些类型的代理？
4. 什么是外观模式？它的作用是什么？

### 8.3 行为型模式

1. 什么是观察者模式？它解决什么问题？
2. 什么是策略模式？它适用于什么场景？
3. 什么是模板方法模式？它的特点是什么？
4. 如何区分策略模式和状态模式？
5. 如何区分装饰器模式和代理模式？

---

## 综合问题

1. 从程序启动到输出"Hello World"，中间经历了哪些步骤？
2. 当用户空间程序读取一个文件时，内核做了哪些工作？
3. 如何设计一个高性能、低延迟的嵌入式系统？
4. 如何在嵌入式系统中实现OTA升级？
5. 实际项目中，你是如何选择和使用设计模式的？

---

*本文档仅供面试复习参考，建议结合实际项目经验进行准备。*

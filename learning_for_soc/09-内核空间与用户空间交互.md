# 内核空间与用户空间交互

## 面试高频问答总结

### 1. 内核空间和用户空间的区别？
- 内核空间：操作系统核心代码运行区域，权限高。
- 用户空间：普通应用程序运行区域，权限受限。

### 2. 常见的交互方式有哪些？
| 方式      | 说明           | 典型场景         |
| --------- | -------------- | ---------------- |
| read/write| 读写数据       | 设备文件         |
| ioctl     | 控制/配置命令  | 设备特殊操作     |
| mmap      | 内存映射       | 大数据共享/零拷贝 |

### 3. 数据如何在两者间传递？
- 通过copy_to_user/copy_from_user等API安全拷贝。

#### 交互流程图
```mermaid
flowchart LR
    A[用户空间发起系统调用] --> B[内核接口处理]
    B --> C[数据拷贝/操作]
    C --> D[返回结果到用户空间]
```

### 4. 权限和一致性如何保证？
- 内核校验指针和权限，防止非法访问。
- 注意多线程/多进程下的数据一致性。

### 5. 形象比喻
- 用户空间像“前台”，内核空间像“后台”，API像“服务窗口”。

---

[返回总目录](README.md)

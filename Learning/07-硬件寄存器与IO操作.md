# 硬件寄存器与IO操作

## 面试高频问答总结

### 1. 什么是硬件寄存器？
- 芯片内用于控制和状态存储的特殊内存区域。

### 2. 如何访问硬件寄存器？
- 通过寄存器映射，将物理地址映射到内核虚拟地址。
- 使用readl/writel等API进行读写。

#### 寄存器访问流程图
```mermaid
flowchart LR
    A[获取寄存器物理地址] --> B[内核映射为虚拟地址]
    B --> C[驱动读写寄存器]
```

### 3. IO内存与普通内存有何区别？
| 类型     | 访问方式 | 典型用途   |
| -------- | -------- | ---------- |
| IO内存   | 专用API  | 外设寄存器 |
| 普通内存 | 直接访问 | 程序数据   |

### 4. 什么是内存屏障？为什么需要？
- 保证读写顺序，防止CPU乱序优化导致IO操作异常。

### 5. 形象比喻
- 寄存器像“遥控器按钮”，内存屏障像“操作顺序的红绿灯”。

---

[返回总目录](README.md)
